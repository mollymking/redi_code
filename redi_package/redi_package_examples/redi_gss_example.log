--------------------------------------------------------------------------------
      name:  redi_gss_example
       log:  /Users/mmking/Documents/SocResearch/redi/redi_code/redi_package/red
> i_gss_example.log
  log type:  text
 opened on:  30 Mar 2022, 12:13:04

. display "$S_DATE  $S_TIME"
30 Mar 2022  12:13:04

. 
. ***--------------------------***
. // # PROGRAM SETUP
. ***--------------------------***
. 
. version 16 // keeps program consistent for future replications

. set linesize 80

. clear all

. set more off

. set seed 1

. prog drop _all

. 
. global redi     "~/Documents/SocResearch/redi/redi_code/redi_package/"

. // original datasets (ACS, CPS ASEC)
. global source   "~/Documents/SocResearch/Dissertation/data/data_sorc"   

. 
. ***--------------------------***
. // # IMPORT CPS ASEC with ALL INCOME TYPES
. ***--------------------------***
. 
. cd $source/00_CPS_ASEC/
/Users/mmking/Documents/SocResearch/dissertation/data/data_sorc/00_CPS_ASEC

. do $redi/cps_00016.do

. * NOTE: You need to set the Stata working directory to the path
. * where the data file is located.
. 
. set more off

. 
. clear

. quietly infix              ///
>   int     year      1-4    ///
>   byte    month     5-6    ///
>   double  cpsid     7-20   ///
>   byte    asecflag  21-21  ///
>   double  asecwth   22-31  ///
>   byte    statefip  32-33  ///
>   long    county    34-38  ///
>   double  hhincome  39-46  ///
>   byte    pernum    47-48  ///
>   double  asecwt    49-58  ///
>   double  ftotval   59-68  ///
>   double  inctot    69-77  ///
>   using `"cps_00016.dat"'

. 
. replace asecwth  = asecwth  / 10000
(2,270,485 real changes made)

. replace asecwt   = asecwt   / 10000
(2,270,485 real changes made)

. 
. format cpsid    %14.0f

. format asecwth  %10.4f

. format hhincome %8.0f

. format asecwt   %10.4f

. format ftotval  %10.0f

. format inctot   %9.0f

. 
. label var year     `"Survey year"'

. label var month    `"Month"'

. label var cpsid    `"CPSID, household record"'

. label var asecflag `"Flag for ASEC"'

. label var asecwth  `"Annual Social and Economic Supplement Household weight"'

. label var statefip `"State (FIPS code)"'

. label var county   `"FIPS county code"'

. label var hhincome `"Total household income"'

. label var pernum   `"Person number in sample unit"'

. label var asecwt   `"Annual Social and Economic Supplement Weight"'

. label var ftotval  `"Total family income"'

. label var inctot   `"Total personal income"'

. 
. label define month_lbl 01 `"January"'

. label define month_lbl 02 `"February"', add

. label define month_lbl 03 `"March"', add

. label define month_lbl 04 `"April"', add

. label define month_lbl 05 `"May"', add

. label define month_lbl 06 `"June"', add

. label define month_lbl 07 `"July"', add

. label define month_lbl 08 `"August"', add

. label define month_lbl 09 `"September"', add

. label define month_lbl 10 `"October"', add

. label define month_lbl 11 `"November"', add

. label define month_lbl 12 `"December"', add

. label values month month_lbl

. 
. label define asecflag_lbl 1 `"ASEC"'

. label define asecflag_lbl 2 `"March Basic"', add

. label values asecflag asecflag_lbl

. 
. label define statefip_lbl 01 `"Alabama"'

. label define statefip_lbl 02 `"Alaska"', add

. label define statefip_lbl 04 `"Arizona"', add

. label define statefip_lbl 05 `"Arkansas"', add

. label define statefip_lbl 06 `"California"', add

. label define statefip_lbl 08 `"Colorado"', add

. label define statefip_lbl 09 `"Connecticut"', add

. label define statefip_lbl 10 `"Delaware"', add

. label define statefip_lbl 11 `"District of Columbia"', add

. label define statefip_lbl 12 `"Florida"', add

. label define statefip_lbl 13 `"Georgia"', add

. label define statefip_lbl 15 `"Hawaii"', add

. label define statefip_lbl 16 `"Idaho"', add

. label define statefip_lbl 17 `"Illinois"', add

. label define statefip_lbl 18 `"Indiana"', add

. label define statefip_lbl 19 `"Iowa"', add

. label define statefip_lbl 20 `"Kansas"', add

. label define statefip_lbl 21 `"Kentucky"', add

. label define statefip_lbl 22 `"Louisiana"', add

. label define statefip_lbl 23 `"Maine"', add

. label define statefip_lbl 24 `"Maryland"', add

. label define statefip_lbl 25 `"Massachusetts"', add

. label define statefip_lbl 26 `"Michigan"', add

. label define statefip_lbl 27 `"Minnesota"', add

. label define statefip_lbl 28 `"Mississippi"', add

. label define statefip_lbl 29 `"Missouri"', add

. label define statefip_lbl 30 `"Montana"', add

. label define statefip_lbl 31 `"Nebraska"', add

. label define statefip_lbl 32 `"Nevada"', add

. label define statefip_lbl 33 `"New Hampshire"', add

. label define statefip_lbl 34 `"New Jersey"', add

. label define statefip_lbl 35 `"New Mexico"', add

. label define statefip_lbl 36 `"New York"', add

. label define statefip_lbl 37 `"North Carolina"', add

. label define statefip_lbl 38 `"North Dakota"', add

. label define statefip_lbl 39 `"Ohio"', add

. label define statefip_lbl 40 `"Oklahoma"', add

. label define statefip_lbl 41 `"Oregon"', add

. label define statefip_lbl 42 `"Pennsylvania"', add

. label define statefip_lbl 44 `"Rhode Island"', add

. label define statefip_lbl 45 `"South Carolina"', add

. label define statefip_lbl 46 `"South Dakota"', add

. label define statefip_lbl 47 `"Tennessee"', add

. label define statefip_lbl 48 `"Texas"', add

. label define statefip_lbl 49 `"Utah"', add

. label define statefip_lbl 50 `"Vermont"', add

. label define statefip_lbl 51 `"Virginia"', add

. label define statefip_lbl 53 `"Washington"', add

. label define statefip_lbl 54 `"West Virginia"', add

. label define statefip_lbl 55 `"Wisconsin"', add

. label define statefip_lbl 56 `"Wyoming"', add

. label define statefip_lbl 61 `"Maine-New Hampshire-Vermont"', add

. label define statefip_lbl 65 `"Montana-Idaho-Wyoming"', add

. label define statefip_lbl 68 `"Alaska-Hawaii"', add

. label define statefip_lbl 69 `"Nebraska-North Dakota-South Dakota"', add

. label define statefip_lbl 70 `"Maine-Massachusetts-New Hampshire-Rhode Island-
> Vermont"', add

. label define statefip_lbl 71 `"Michigan-Wisconsin"', add

. label define statefip_lbl 72 `"Minnesota-Iowa"', add

. label define statefip_lbl 73 `"Nebraska-North Dakota-South Dakota-Kansas"', ad
> d

. label define statefip_lbl 74 `"Delaware-Virginia"', add

. label define statefip_lbl 75 `"North Carolina-South Carolina"', add

. label define statefip_lbl 76 `"Alabama-Mississippi"', add

. label define statefip_lbl 77 `"Arkansas-Oklahoma"', add

. label define statefip_lbl 78 `"Arizona-New Mexico-Colorado"', add

. label define statefip_lbl 79 `"Idaho-Wyoming-Utah-Montana-Nevada"', add

. label define statefip_lbl 80 `"Alaska-Washington-Hawaii"', add

. label define statefip_lbl 81 `"New Hampshire-Maine-Vermont-Rhode Island"', add

. label define statefip_lbl 83 `"South Carolina-Georgia"', add

. label define statefip_lbl 84 `"Kentucky-Tennessee"', add

. label define statefip_lbl 85 `"Arkansas-Louisiana-Oklahoma"', add

. label define statefip_lbl 87 `"Iowa-N Dakota-S Dakota-Nebraska-Kansas-Minnesot
> a-Missouri"', add

. label define statefip_lbl 88 `"Washington-Oregon-Alaska-Hawaii"', add

. label define statefip_lbl 89 `"Montana-Wyoming-Colorado-New Mexico-Utah-Nevada
> -Arizona"', add

. label define statefip_lbl 90 `"Delaware-Maryland-Virginia-West Virginia"', add

. label define statefip_lbl 99 `"State not identified"', add

. label values statefip statefip_lbl

. 
. 
. 
end of do-file

. 
. // SAVE
. label data "Imported original CPS ASEC data from IPUMS"

. notes: CPS_ASEC_allInc.dta \ Extracted CPS ASEC Data from IPUMS \ redi_gss_exa
> mple.do mmk $DATE

. compress
  variable hhincome was double now long
  variable ftotval was double now long
  variable inctot was double now long
  (27,245,820 bytes saved)

. keep year hhincome ftotval inctot pernum asecwth

. datasignature set, reset
  2270485:6(111811):4285722675:1235543677       (data signature set)

. save $redi/cps_reference.dta, replace
file ~/Documents/SocResearch/redi/redi_code/redi_package//cps_reference.dta save
> d

. 
. ***--------------------------***
. // # IMPORT GSS
. ***--------------------------***
. 
. *use sample GSS dataset from UW website: 
. * https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm
. use $redi/gss_sample.dta, clear

. 
. // SAVE
. label data "Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-fi
> les.htm"

. notes: GSS.dta \ Sample GSS from UW - year and income \ redi_gss_example.do mm
> k $DATE

. compress
  variable emailhr was int now byte
  variable ntwkhard was float now byte
  variable oth16 was int now byte
  variable other was int now byte
  variable othlang1 was int now byte
  variable spother was int now byte
  variable wwwhr was int now byte
  variable stockval was double now long
  (3,302 bytes saved)

. keep year rincome income

. datasignature set, reset
  254:3(85656):2274079031:2298977300       (data signature set)

. save $redi/GSS.dta, replace
file ~/Documents/SocResearch/redi/redi_code/redi_package//GSS.dta saved

. 
. ***--------------------------***
. // # RUN REDI on GSS
. ***--------------------------***
. 
. prog drop _all

. cd $redi  /// location of redi ado file
> 
/Users/mmking/Documents/SocResearch/redi/redi_code/redi_package

. use $redi/GSS.dta, clear
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)

. 
. // family income example
. redi income year, ///
>         generate(finc_continuous) cpstype(family)  inflationyear(2020)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000001 saved
(Imported original CPS ASEC data from IPUMS)
(1,422,401 observations deleted)
  (0 bytes saved)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000002 saved
Income type set as family income; Calculating family income using ftotval CPS-AS
> EC variable.
Inflation year is 2020
Get data: Inflation year is 2020
(15 vars, 45 obs)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000003 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000003 saved
(44 observations deleted)
CPI average for inflation year is 381.2
(45 missing values generated)
(44 real changes made)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000003 saved
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
      income: 25 missing values recoded
1 2 3 5 6 8 9 10 11 12 98
The income levels are: 1 2 3 5 6 8 9 10 11 12 98
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000004 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000004 saved
2014
Create local variable years to loop within that income level - values:2014
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(245 observations deleted)
The current inc_level is: 1
The inc_level 1 is at the lowest end of the original Research dataset income ran
> ge
inc_decoded: characters L space T $ removed; income_ub generated as int
Lower bound of -100,000 created for inc_level 1
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000005 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000005 saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(846,254 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000006 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000006 saved
Ref to keep income between $-100000 and $1000 for 2014 year.
number of observations (_N) was 0, now 9
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 9  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000006 saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 9
        not updated                         9  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 1 ($-100000-1000
> ) and year 2014.
(9 missing values generated)
(9 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000007 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000007 saved
Saved REDI data (with continuous data) for inc_level 1 ($-100000-1000) and year 
> 2014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(253 observations deleted)
The current inc_level is: 2
The inc_level 2 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of income_lb and upper bound of income_ub created for inc_level 2 of
>  the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000008 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000008 saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(847,542 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000009 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000009 saved
Ref to keep income between $1000 and $2999 for 2014 year.
number of observations (_N) was 0, now 1
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 1  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000009 saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 1
        not updated                         1  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 2 ($1000-2999) a
> nd year 2014.
(1 missing value generated)
(1 real change made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000a not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000a saved
Saved REDI data (with continuous data) for inc_level 2 ($1000-2999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(249 observations deleted)
The current inc_level is: 3
The inc_level 3 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of income_lb and upper bound of income_ub created for inc_level 3 of
>  the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000b not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000b saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(847,782 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000c not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000c saved
Ref to keep income between $3000 and $3999 for 2014 year.
number of observations (_N) was 0, now 5
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 5  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000c saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 5
        not updated                         5  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 3 ($3000-3999) a
> nd year 2014.
(5 missing values generated)
(5 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000d not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000d saved
Saved REDI data (with continuous data) for inc_level 3 ($3000-3999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(252 observations deleted)
The current inc_level is: 5
The inc_level 5 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of income_lb and upper bound of income_ub created for inc_level 5 of
>  the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000e not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000e saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(847,713 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000f not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000f saved
Ref to keep income between $5000 and $5999 for 2014 year.
number of observations (_N) was 0, now 2
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 2  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000f saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 2
        not updated                         2  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 5 ($5000-5999) a
> nd year 2014.
(2 missing values generated)
(2 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000g not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000g saved
Saved REDI data (with continuous data) for inc_level 5 ($5000-5999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(251 observations deleted)
The current inc_level is: 6
The inc_level 6 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of income_lb and upper bound of income_ub created for inc_level 6 of
>  the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000h not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000h saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(847,681 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000i not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000i saved
Ref to keep income between $6000 and $6999 for 2014 year.
number of observations (_N) was 0, now 3
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 3  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000i saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 3
        not updated                         3  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 6 ($6000-6999) a
> nd year 2014.
(3 missing values generated)
(3 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000j not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000j saved
Saved REDI data (with continuous data) for inc_level 6 ($6000-6999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(249 observations deleted)
The current inc_level is: 8
The inc_level 8 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of income_lb and upper bound of income_ub created for inc_level 8 of
>  the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000k not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000k saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(846,284 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000l not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000l saved
Ref to keep income between $8000 and $9999 for 2014 year.
number of observations (_N) was 0, now 5
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 5  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000l saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 5
        not updated                         5  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 8 ($8000-9999) a
> nd year 2014.
(5 missing values generated)
(5 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000m not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000m saved
Saved REDI data (with continuous data) for inc_level 8 ($8000-9999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(236 observations deleted)
The current inc_level is: 9
The inc_level 9 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of income_lb and upper bound of income_ub created for inc_level 9 of
>  the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000n not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000n saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(843,874 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000o not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000o saved
Ref to keep income between $10000 and $14999 for 2014 year.
number of observations (_N) was 0, now 18
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                18  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000o saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                18
        not updated                        18  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 9 ($10000-14999)
>  and year 2014.
(18 missing values generated)
(18 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000p not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000p saved
Saved REDI data (with continuous data) for inc_level 9 ($10000-14999) and year 2
> 014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(242 observations deleted)
The current inc_level is: 10
The inc_level 10 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of income_lb and upper bound of income_ub created for inc_level 10 o
> f the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000q not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000q saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(843,746 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000r not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000r saved
Ref to keep income between $15000 and $19999 for 2014 year.
number of observations (_N) was 0, now 12
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                12  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000r saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                12
        not updated                        12  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 10 ($15000-19999
> ) and year 2014.
(12 missing values generated)
(12 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000s not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000s saved
Saved REDI data (with continuous data) for inc_level 10 ($15000-19999) and year 
> 2014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(241 observations deleted)
The current inc_level is: 11
The inc_level 11 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of income_lb and upper bound of income_ub created for inc_level 11 o
> f the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000t not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000t saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(843,926 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000u not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000u saved
Ref to keep income between $20000 and $24999 for 2014 year.
number of observations (_N) was 0, now 13
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                13  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000u saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                13
        not updated                        13  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 11 ($20000-24999
> ) and year 2014.
(13 missing values generated)
(13 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000v not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000v saved
Saved REDI data (with continuous data) for inc_level 11 ($20000-24999) and year 
> 2014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(93 observations deleted)
The current inc_level is: 12
The inc_level 12 is at the highest end of the original Research dataset income r
> ange
inc_decoded: characters space $ O R M E removed; income_lb generated as int
Upper bound of 999999 created for inc_level 12
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000w not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000w saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as family income
(792,795 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000x not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000x saved
Ref to keep income between $25000 and $999999 for 2014 year.
number of observations (_N) was 0, now 161
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                               161  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000x saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                               161
        not updated                       161  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 12 ($25000-99999
> 9) and year 2014.
(161 missing values generated)
(161 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000010 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000010 saved
Saved REDI data (with continuous data) for inc_level 12 ($25000-999999) and year
>  2014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(229 observations deleted)
The current inc_level is: 98
The inc_level 98 is missing (recoded as 98)
(25 missing values generated)
(25 missing values generated)
Lower and upper bound of . created for inc_level 98
(25 missing values generated)
(25 missing values generated)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000011 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000011 saved
Saved REDI data (with continuous data) for the missing inc_level for year 2014 i
> n file
(note: variable income_ub was int, now float to accommodate using data's
       values)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label LABAX already defined)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000012 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000012 saved
Saved new tempfile for year 2014 for all REDI  income levels.
Appended all years
(25 missing values generated)
      income: 25 missing values generated
INFLATE: Inflation year is 2020

    Result                           # of obs.
    -----------------------------------------
    not matched                            44
        from master                         0  (_merge==1)
        from using                         44  (_merge==2)

    matched                               254  (_merge==3)
    -----------------------------------------
(69 missing values generated)
(44 observations deleted)

. 
. use $redi/GSS.dta, clear        
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)

.         
. // individual income example
. redi rincome year, ///
>         generate(rinc_continuous) cpstype(respondent)  inflationyear(2020)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000001 saved
(Imported original CPS ASEC data from IPUMS)
(1,422,401 observations deleted)
  (0 bytes saved)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000002 saved
Income type set as respondent income; Calculating respondent income using inctot
>  ASEC variable.
Inflation year is 2020
Get data: Inflation year is 2020
(15 vars, 45 obs)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000003 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000003 saved
(44 observations deleted)
CPI average for inflation year is 381.2
(45 missing values generated)
(44 real changes made)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000003 saved
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
     rincome: 100 missing values recoded
1 2 3 4 5 6 8 9 10 11 12 98
The income levels are: 1 2 3 4 5 6 8 9 10 11 12 98
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000004 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000004 saved
2014
Create local variable years to loop within that income level - values:2014
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(247 observations deleted)
The current inc_level is: 1
The inc_level 1 is at the lowest end of the original Research dataset income ran
> ge
inc_decoded: characters L space T $ removed; rincome_ub generated as int
Lower bound of -100,000 created for inc_level 1
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000005 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000005 saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(842,276 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000006 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000006 saved
Ref to keep income between $-100000 and $1000 for 2014 year.
number of observations (_N) was 0, now 7
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 7  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000006 saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 7
        not updated                         7  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 1 ($-100000-1000
> ) and year 2014.
(7 missing values generated)
(7 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000007 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000007 saved
Saved REDI data (with continuous data) for inc_level 1 ($-100000-1000) and year 
> 2014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(249 observations deleted)
The current inc_level is: 2
The inc_level 2 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 2 
> of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000008 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000008 saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(846,938 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000009 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000009 saved
Ref to keep income between $1000 and $2999 for 2014 year.
number of observations (_N) was 0, now 5
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 5  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000009 saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 5
        not updated                         5  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 2 ($1000-2999) a
> nd year 2014.
(5 missing values generated)
(5 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000a not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000a saved
Saved REDI data (with continuous data) for inc_level 2 ($1000-2999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(249 observations deleted)
The current inc_level is: 3
The inc_level 3 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 3 
> of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000b not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000b saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(847,478 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000c not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000c saved
Ref to keep income between $3000 and $3999 for 2014 year.
number of observations (_N) was 0, now 5
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 5  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000c saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 5
        not updated                         5  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 3 ($3000-3999) a
> nd year 2014.
(5 missing values generated)
(5 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000d not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000d saved
Saved REDI data (with continuous data) for inc_level 3 ($3000-3999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(250 observations deleted)
The current inc_level is: 4
The inc_level 4 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 4 
> of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000e not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000e saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(847,454 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000f not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000f saved
Ref to keep income between $4000 and $4999 for 2014 year.
number of observations (_N) was 0, now 4
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 4  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000f saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 4
        not updated                         4  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 4 ($4000-4999) a
> nd year 2014.
(4 missing values generated)
(4 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000g not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000g saved
Saved REDI data (with continuous data) for inc_level 4 ($4000-4999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(250 observations deleted)
The current inc_level is: 5
The inc_level 5 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 5 
> of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000h not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000h saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(847,363 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000i not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000i saved
Ref to keep income between $5000 and $5999 for 2014 year.
number of observations (_N) was 0, now 4
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 4  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000i saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 4
        not updated                         4  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 5 ($5000-5999) a
> nd year 2014.
(4 missing values generated)
(4 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000j not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000j saved
Saved REDI data (with continuous data) for inc_level 5 ($5000-5999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(253 observations deleted)
The current inc_level is: 6
The inc_level 6 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 6 
> of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000k not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000k saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(847,377 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000l not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000l saved
Ref to keep income between $6000 and $6999 for 2014 year.
number of observations (_N) was 0, now 1
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 1  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000l saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 1
        not updated                         1  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 6 ($6000-6999) a
> nd year 2014.
(1 missing value generated)
(1 real change made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000m not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000m saved
Saved REDI data (with continuous data) for inc_level 6 ($6000-6999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(250 observations deleted)
The current inc_level is: 8
The inc_level 8 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 8 
> of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000n not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000n saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(845,262 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000o not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000o saved
Ref to keep income between $8000 and $9999 for 2014 year.
number of observations (_N) was 0, now 4
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 4  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000o saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 4
        not updated                         4  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 8 ($8000-9999) a
> nd year 2014.
(4 missing values generated)
(4 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000p not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000p saved
Saved REDI data (with continuous data) for inc_level 8 ($8000-9999) and year 201
> 4 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(242 observations deleted)
The current inc_level is: 9
The inc_level 9 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 9 
> of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000q not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000q saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(841,545 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000r not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000r saved
Ref to keep income between $10000 and $14999 for 2014 year.
number of observations (_N) was 0, now 12
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                12  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000r saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                12
        not updated                        12  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 9 ($10000-14999)
>  and year 2014.
(12 missing values generated)
(12 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000s not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000s saved
Saved REDI data (with continuous data) for inc_level 9 ($10000-14999) and year 2
> 014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(249 observations deleted)
The current inc_level is: 10
The inc_level 10 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 10
>  of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000t not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000t saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(841,953 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000u not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000u saved
Ref to keep income between $15000 and $19999 for 2014 year.
number of observations (_N) was 0, now 5
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 5  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000u saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 5
        not updated                         5  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 10 ($15000-19999
> ) and year 2014.
(5 missing values generated)
(5 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000v not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000v saved
Saved REDI data (with continuous data) for inc_level 10 ($15000-19999) and year 
> 2014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(246 observations deleted)
The current inc_level is: 11
The inc_level 11 has a lower and an upper level
variables born as string: 
inc_decoded1  inc_decoded2
inc_decoded1: characters space $ removed; replaced as int
inc_decoded2: character space removed; replaced as int
Lower bound of rincome_lb and upper bound of rincome_ub created for inc_level 11
>  of the original Research dataset income range
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000w not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000w saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(842,450 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000x not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000x saved
Ref to keep income between $20000 and $24999 for 2014 year.
number of observations (_N) was 0, now 8
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 8  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.00000x saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                 8
        not updated                         8  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 11 ($20000-24999
> ) and year 2014.
(8 missing values generated)
(8 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000010 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000010 saved
Saved REDI data (with continuous data) for inc_level 11 ($20000-24999) and year 
> 2014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(155 observations deleted)
The current inc_level is: 12
The inc_level 12 is at the highest end of the original Research dataset income r
> ange
inc_decoded: characters space $ O R M E removed; rincome_lb generated as int
Upper bound of 999999 created for inc_level 12
(0 observations deleted)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000011 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000011 saved
Saved tempfile with upper and lower bounds of research data income levels
(Imported original CPS ASEC data from IPUMS)
Reference data open - Income type set as respondent income
(805,611 observations deleted)
Observation number generated
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000012 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000012 saved
Ref to keep income between $25000 and $999999 for 2014 year.
number of observations (_N) was 0, now 99
number of observations is  observations

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                99  
    -----------------------------------------
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000012 saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0

    matched                                99
        not updated                        99  (_merge==3)
        missing updated                     0  (_merge==4)
        nonmissing conflict                 0  (_merge==5)
    -----------------------------------------
Merged ASEC values with original Research dataset for inc_level 12 ($25000-99999
> 9) and year 2014.
(99 missing values generated)
(99 real changes made)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000013 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000013 saved
Saved REDI data (with continuous data) for inc_level 12 ($25000-999999) and year
>  2014 in file
(Sample GSS data from https://www.ssc.wisc.edu/sscc/pubs/sfs/sfs-files.htm)
(154 observations deleted)
The current inc_level is: 98
The inc_level 98 is missing (recoded as 98)
(100 missing values generated)
(100 missing values generated)
Lower and upper bound of . created for inc_level 98
(100 missing values generated)
(100 missing values generated)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000014 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000014 saved
Saved REDI data (with continuous data) for the missing inc_level for year 2014 i
> n file
(note: variable rincome_ub was int, now float to accommodate using data's
       values)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label _merge already defined)
(label LABAX already defined)
(label LABAX already defined)
(note: file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000015 not
>  found)
file /var/folders/p5/4pbm3kvx22d9qc1mqdft2symrmksfh/T//S_31821.000015 saved
Saved new tempfile for year 2014 for all REDI  income levels.
Appended all years
(100 missing values generated)
     rincome: 100 missing values generated
INFLATE: Inflation year is 2020

    Result                           # of obs.
    -----------------------------------------
    not matched                            44
        from master                         0  (_merge==1)
        from using                         44  (_merge==2)

    matched                               254  (_merge==3)
    -----------------------------------------
(144 missing values generated)
(44 observations deleted)

.         
. ***--------------------------***
. 
. capture log close redi_gss_example
